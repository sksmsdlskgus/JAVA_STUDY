<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
   <title>Document</title>
</head>
<body>

   <!--
       watchOption:
       watch 함수의 세 번째 인자로 전달되는 옵션 객체이다. 
       이 옵션을 통해 watch의 동작을 세밀하게 제어할 수 있다.
       (immediate, deep, flush, onTrack, once) => (수업 때는 immediate, once)
   -->

   <div id="step01">
       <p>
           {{ num }}
       </p>
       <button @click="num++">num++</button>
   </div>

   <div id="step02">
       <p>
           {{ num }}
       </p>
       <button @click="num++">num++</button>
   </div>

   <script>
       const {createApp, ref, watch} = Vue;

       createApp({
           setup() {
               const num = ref(0);

               watch(num, (newVal, oldVal) => {
                   console.log('New Value: ', newVal);
                   console.log('Old Value: ', oldVal);
               },
               {immediate: true})

               return {
                   num
               }
           }
       }).mount('#step01');

       createApp({
           setup() {
               const num = ref(0);

               watch(num, (newVal, oldVal) => {
                   console.log('New Value: ', newVal);
                   console.log('Old Value: ', oldVal);
               },
               {once: true})

               return {
                   num
               }
           }
       }).mount('#step02');
   </script>
</body>
</html>